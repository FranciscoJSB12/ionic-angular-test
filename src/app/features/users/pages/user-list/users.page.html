<app-header>
  <ion-buttons slot="start">
    <ion-back-button defaultHref="/home"></ion-back-button>
  </ion-buttons>
  <app-toolbar-title text="Usuarios"></app-toolbar-title>
</app-header>

<ion-content [fullscreen]="true">
  @if(isLoading && !error) {
  <ion-progress-bar type="indeterminate"></ion-progress-bar>
  } @else if (!isLoading && error) {
  <app-error-message [message]="error"></app-error-message>
  } @else {
  <ion-grid>
    <ion-row>
      @for(user of users; track user.id) {
      <ion-col size="12" size-lg="4">
        <ion-card>
          <ion-card-header>
            <ion-card-title>{{user.firstName}}</ion-card-title>
            <ion-card-subtitle>{{user.lastName}}</ion-card-subtitle>
          </ion-card-header>

          <ion-card-content>
            <ion-grid>
              <ion-row>
                <ion-col>
                  <ion-button
                    shape="outline"
                    (click)="onSelectUserDetails(user.id)"
                  >
                    Detalles <ion-icon slot="end" name="person"></ion-icon>
                  </ion-button>
                </ion-col>
              </ion-row>
            </ion-grid>
          </ion-card-content>
        </ion-card>
      </ion-col>
      }
    </ion-row>
  </ion-grid>
  }
</ion-content>
